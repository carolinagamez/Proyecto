<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Banco de Sangre</title>
  <link rel="stylesheet" href="/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-rojo">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">Banco de Sangre</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
       <ul id="menu" class="navbar-nav">
      <li class="nav-item"><a class="nav-link" href="/">Inicio</a></li>
       <li class="nav-item"><a class="nav-link" href="/logout">Cerrar Sesión</a></li>
      </ul>
      </div>
    </div>
  </nav>
  <script>
  fetch('/tipo-usuario')
    .then(res => res.json())
    .then(data => {
      const menu = document.getElementById('menu');
      if (!menu || !data.rol) return;

      if (data.rol === 'Admin') {
        const li = document.createElement('li');
        li.className = 'nav-item';
        li.innerHTML = '<a class="nav-link text-rojo" href="/ver-usuarios">Gestionar usuarios</a>';
        menu.insertBefore(li, menu.lastElementChild);
      }
      if (data.rol === 'Admin' || data.rol === 'Medico') {
       const liDonadores = document.createElement('li');
       liDonadores.className = 'nav-item';
       liDonadores.innerHTML = '<a class="nav-link text-rojo" href="/ver-donadores">Gestionar donadores</a>';
       menu.insertBefore(liDonadores, menu.lastElementChild);
  
       const liReceptores = document.createElement('li');
        liReceptores.className = 'nav-item';
       liReceptores.innerHTML = '<a class="nav-link text-rojo" href="/ver-receptores">Gestionar receptores</a>';
       menu.insertBefore(liReceptores, menu.lastElementChild);
}
    });
</script>


 </body>

  <!-- Encabezado -->
  <header class="container text-center mt-5">
    <link rel="stylesheet" href="/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <h1 >Bienvenido al sistema del Banco de Sangre</h1>
    <p class="lead">Sitio web para donadores, receptores y sus registros clínicos</p>
  </header>

  <!-- Secciones funcionales -->
  <main class="container mt-4">
    <div class="row g-4">

      <!-- Registrar Donador -->
      <div class="col-md-6">
        <div class="card border-success shadow-sm h-100">
          <div class="card-body text-center">
            <i class="bi bi-person-plus display-5 text-success"></i>
            <h5 class="card-title mt-3">Registrar Donador</h5>
            <p class="card-text">Agrega nuevos donadores al sistema</p>
            <a href="/registrar-donador" class="btn btn-success">Formulario</a>
          </div>
        </div>
      </div>

      <!-- Registrar Receptor -->
      <div class="col-md-6">
        <div class="card border-success shadow-sm h-100">
          <div class="card-body text-center">
            <i class="bi bi-person-check display-5 text-success"></i>
            <h5 class="card-title mt-3">Registrar Receptor</h5>
            <p class="card-text">Agrega nuevos receptores al sistema</p>
            <a href="/registrar-receptor" class="btn btn-success">Formulario</a>
          </div>
        </div>
      </div>

      <!-- Ver Registros -->
      <div class="col-md-6">
        <div class="card border-primary shadow-sm h-100">
          <div class="card-body text-center">
            <i class="bi bi-table display-5 text-primary"></i>
            <h5 class="card-title mt-3">Ver Registros</h5>
            <p class="card-text">Consulta donadores y receptores guardados</p>
            <a href="/ver-registros" class="btn btn-primary">Ver Tablas</a>
          </div>
        </div>
      </div>

      <!-- Buscar Match -->
      <div class="col-md-6">
        <div class="card border-warning shadow-sm h-100">
          <div class="card-body text-center">
            <i class="bi bi-search-heart display-5 text-warning"></i>
            <h5 class="card-title mt-3">Buscar compatiblidad</h5>
            <p class="card-text">Encuentra compatibilidad entre donador y receptor</p>
            <a href="/compatibilidad.html" class="btn btn-warning">Buscar Compatibilidad</a>
          </div>
        </div>
      </div>

      <!-- Descargar Reportes -->
      <div class="col-md-12">
        <div class="card border-info shadow-sm">
          <div class="card-body text-center">
            <i class="bi bi-upload display-5 text-info"></i>
            <h5 class="card-title mt-3">Descargar Reportes</h5>
            <p class="card-text">Reportes de donadores y receptores</p>
            <a href="/descargar-reportes" class="btn btn-info">Elegir reporte</a>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="text-center mt-5 mb-3 text-muted">
    <small>  Banco de Sangre - Carolina Gamez 23212193 - Ingeniería Biomédica</small>
  </footer>

</body>

</html>
